# 测试数据集

## 1. 测试图片数据

### 1.1 正常食物图片

#### 中式餐饮
| 编号 | 食物名称 | 预期热量范围 | 测试重点 |
|------|---------|------------|---------|
| IMG001 | 宫保鸡丁盖饭 | 500-600千卡 | 常见中式盖饭 |
| IMG002 | 麻婆豆腐+米饭 | 400-500千卡 | 多成分识别 |
| IMG003 | 煎饺 | 300-400千卡 | 单一食物 |
| IMG004 | 小笼包+豆浆 | 350-450千卡 | 早餐组合 |
| IMG005 | 炒面 | 500-600千卡 | 面食类 |

#### 西式餐饮
| 编号 | 食物名称 | 预期热量范围 | 测试重点 |
|------|---------|------------|---------|
| IMG006 | 汉堡+薯条 | 700-900千卡 | 高热量食物 |
| IMG007 | 三明治 | 300-400千卡 | 简单组合 |
| IMG008 | 披萨 | 250-350千卡/片 | 分量估算 |
| IMG009 | 沙拉 | 100-200千卡 | 低热量食物 |

#### 日韩料理
| 编号 | 食物名称 | 预期热量范围 | 测试重点 |
|------|---------|------------|---------|
| IMG010 | 寿司拼盘 | 300-500千卡 | 多种类组合 |
| IMG011 | 拉面 | 400-600千卡 | 汤面类 |
| IMG012 | 石锅拌饭 | 500-700千卡 | 混合食物 |

#### 小吃点心
| 编号 | 食物名称 | 预期热量范围 | 测试重点 |
|------|---------|------------|---------|
| IMG013 | 蛋糕 | 300-400千卡 | 甜品 |
| IMG014 | 奶茶 | 200-400千卡 | 饮品 |
| IMG015 | 水果拼盘 | 100-200千卡 | 低热量 |

### 1.2 边界情况图片

| 编号 | 说明 | 预期行为 |
|------|------|---------|
| IMG101 | 模糊照片 | 提示重新拍摄或返回低置信度 |
| IMG102 | 非食物照片（风景） | 无法识别或置信度很低 |
| IMG103 | 空盘子 | 识别为0热量或提示无食物 |
| IMG104 | 过曝照片 | 尝试识别或提示重拍 |
| IMG105 | 欠曝照片 | 尝试识别或提示重拍 |
| IMG106 | 超大图片（>10MB） | 压缩后识别 |

## 2. 食物记录测试数据

### 2.1 单日多餐记录

#### 测试场景1: 完整一天记录
```json
{
  "date": "2024-01-15",
  "meals": [
    {
      "meal_type": "breakfast",
      "time": "07:30",
      "food_name": "豆浆油条",
      "calories": 350
    },
    {
      "meal_type": "lunch",
      "time": "12:00",
      "food_name": "宫保鸡丁盖饭",
      "calories": 550
    },
    {
      "meal_type": "dinner",
      "time": "18:30",
      "food_name": "清蒸鱼+米饭",
      "calories": 450
    },
    {
      "meal_type": "other",
      "time": "15:00",
      "food_name": "苹果",
      "calories": 50
    }
  ],
  "total_calories": 1400
}
```

### 2.2 跨周数据（用于周趋势测试）

生成12周的测试数据，每周3-7条记录，热量范围 1200-2500 千卡/天

```markdown
第1周 (2024-01-01 ~ 2024-01-07): 平均 1800 千卡/天
第2周 (2024-01-08 ~ 2024-01-14): 平均 2000 千卡/天
第3周 (2024-01-15 ~ 2024-01-21): 平均 1600 千卡/天
...
第12周 (2024-03-18 ~ 2024-03-24): 平均 1900 千卡/天
```

### 2.3 跨月数据（用于月趋势测试）

生成12个月的测试数据

```markdown
2023年3月: 总计 52,000 千卡 (约1,677 千卡/天)
2023年4月: 总计 56,000 千卡 (约1,867 千卡/天)
2023年5月: 总计 54,000 千卡 (约1,742 千卡/天)
...
2024年2月: 总计 50,000 千卡 (约1,724 千卡/天)
```

### 2.4 筛选测试数据

#### 多餐次混合数据
- 早餐记录: 30条
- 午餐记录: 40条
- 晚餐记录: 35条
- 其他: 15条

#### 不同日期分布
- 本周记录: 20条
- 本月记录: 80条
- 更早记录: 50条

## 3. 性能测试数据

### 3.1 大量数据测试
- 100条记录
- 500条记录
- 1000条记录

### 3.2 不同尺寸图片
- 小图片: 100KB
- 中等图片: 500KB
- 大图片: 2MB
- 超大图片: 5MB, 10MB, 15MB

## 4. 异常数据

### 4.1 非法数据
- 负数热量
- 超大热量值（>10000）
- 空字符串食物名称
- 无效日期

### 4.2 边界值数据
- 热量 = 0
- 热量 = 1
- 热量 = 9999
- 极长食物名称（100字符）

## 5. API 响应模拟数据

### 5.1 正常响应
```json
{
  "food_name": "宫保鸡丁盖饭",
  "ingredients": ["米饭", "鸡肉", "花生", "辣椒"],
  "calories": 550,
  "weight": 400,
  "meal_type": "lunch",
  "nutrition_info": "富含蛋白质和碳水化合物",
  "confidence": 0.9,
  "tags": ["中餐", "盖饭", "肉类"]
}
```

### 5.2 低置信度响应
```json
{
  "food_name": "未知食物",
  "ingredients": [],
  "calories": 0,
  "weight": 0,
  "meal_type": "other",
  "nutrition_info": "无法准确识别",
  "confidence": 0.3,
  "tags": []
}
```

### 5.3 超时场景
- 模拟网络延迟 > 60s

### 5.4 错误响应
- 400 Bad Request
- 401 Unauthorized
- 500 Server Error
- 网络断开

## 6. 测试数据准备脚本

### 6.1 生成批量记录
```dart
// test/fixtures/generate_test_data.dart
void generateTestRecords(int count) {
  final records = <FoodItem>[];
  final random = Random();
  final foods = ['米饭', '面条', '鸡肉', '鱼', '蔬菜'];
  
  for (int i = 0; i < count; i++) {
    final date = DateTime.now().subtract(Duration(days: random.nextInt(90)));
    records.add(FoodItem(
      foodName: foods[random.nextInt(foods.length)],
      calories: 100 + random.nextInt(900),
      createdAt: date,
      mealType: ['breakfast', 'lunch', 'dinner'][random.nextInt(3)],
      ingredients: [],
      imagePath: '/tmp/test_image.jpg',
    ));
  }
  return records;
}
```

## 7. 数据清理

### 测试前清理
- 清空数据库
- 删除临时图片
- 重置配置

### 测试后清理
- 删除测试记录
- 清理缓存
- 恢复默认设置
